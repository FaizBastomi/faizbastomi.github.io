dayjs.extend(window.dayjs_plugin_relativeTime);let maxResin=160,fragResin=60,condedResin=40,minutePerResin=48e4,currentTime=dayjs(),millisecondsToWait,fullTime,outputType=null;const cResin=document.getElementById("cResin"),dResin=document.getElementById("dResin"),button=document.getElementById("hitung");function calculateCondensedResin(e){return condedResin%e==0?{resin:0,condedResin:Math.floor(e/condedResin)}:{resin:e%condedResin,condedResin:Math.floor(e/condedResin)}}function showData(e){let n=document.querySelector("p#ogResin"),i=document.querySelector("p#cddResin"),s=document.querySelector("p#untilFull");n.innerHTML=`${e.resin} (or ${e.condensed.resin})<i class="fa-solid fa-xmark fa-xs ms-1 text-secondary"></i><img width='40' src='/assets/img/fragile_resin.webp'>Original Resin`,i.innerHTML=`${e.condensed.condedResin}<i class="fa-solid fa-xmark fa-xs ms-1 text-secondary"></i><img width='40' src='/assets/img/condensed_resin.webp'>Condensed Resin`,s.innerHTML=`Replenished at: ${fullTime.format("dddd HH:mm:ss")} (${fullTime.fromNow()})`}function calculate(){let e=document.querySelector("#cResin").value,n=document.querySelector("#dResin").value,i=maxResin-e,s="maxResin"===outputType?{resin:i,condensed:calculateCondensedResin(i)}:{resin:n,condensed:calculateCondensedResin(n)};millisecondsToWait="maxResin"===outputType?i*minutePerResin:n*minutePerResin,fullTime=dayjs(currentTime.valueOf()+millisecondsToWait),showData({fullTime,...s})}function init(){window.handleInputChange=e=>{outputType=e};let e=setInterval(()=>{currentTime=dayjs().add(0,"minute"),document.querySelector("label#time").innerHTML=currentTime.format("dddd HH:mm:ss")},1e3);return button.addEventListener("click",calculate),cResin.addEventListener("input",function(){this.value>maxResin&&(this.value=maxResin)}),()=>{clearInterval(e)}}window.addEventListener("load",init);